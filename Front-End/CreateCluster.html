<!DOCTYPE html>
<html lang="en">
<style>

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #ffffff;
}
li {
  float: left;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 16px;
  text-decoration: none;
}

li a:hover {
  background-color: #111111;
}

</style>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    <title>Create cluster</title>
</head>


<body style="margin-left: 10%; margin-right: 10%;">
        <div>
            <p>Cluster Name</p>
            <input id="c-name">
            <p>Cluster Description:</p>
            <input type=text id="c-desc" style="width: 100%;
            height: 150px;
            padding: 12px 20px;
            box-sizing: border-box;
            border: 2px solid #ccc;
            border-radius: 4px;
            background-color: #f8f8f8;
            resize: none;">
            <p>

            </p>
            <button id="create-cluster-btn" 
            style="width: 10%;height: 40px;
             background-color: rgb(75, 210, 255);
             border-radius: 5px;
             border-width: 3px;
             border-color: rgb(210, 225, 240);"
             onclick="CreateCluster(event)"
             >
                
                Create cluster</button>
        </div>



        <div>
            
        </div>
        <script>
                     const token = localStorage.getItem("token");
                     axios.defaults.headers.common["Authorization"] = `Bearer ${token}`;
                     if (!token) {
                       location.href = "Login.html";
                      // console.log(token);
                       }

                async function CreateCluster(event){
                    event.preventDefault()
                    const clustername=document.getElementById('c-name').value
                    const desc=document.getElementById('c-desc').value
                    const url='https://localhost:44398/api/clusters/'+clustername+'/'+desc
                    try {
                    const res = await axios.post(url);
                    console.log(res.data);
                    location.href = 'Home.html';
                    } catch (err) {
                        console.log(err); 
                    } 
                } 
    



        </script>
    
</body>
</html>